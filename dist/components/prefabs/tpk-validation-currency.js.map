{"version":3,"file":"tpk-validation-currency.js","sources":["../../../src/components/prefabs/tpk-validation-currency.gts"],"sourcesContent":["import TpkValidationInputComponent, {\n  type TpkValidationInputComponentSignature,\n} from '../tpk-validation-input.gts';\nimport { type BaseValidationSignature } from '../base.ts';\nimport TpkValidationErrorsComponent from './tpk-validation-errors.gts';\nimport MandatoryLabelComponent from './mandatory-label.gts';\nimport Component from '@glimmer/component';\n\nexport interface TpkValidationCurrencyPrefabSignature\n  extends BaseValidationSignature {\n  Args: Omit<\n    TpkValidationInputComponentSignature['Args'],\n    | 'type'\n    | 'mask'\n    | 'unmaskValue'\n    | 'maskOptions'\n    | 'mask'\n    | 'mix'\n    | 'max'\n    | 'step'\n  > & {\n    scale?: number;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLElement;\n}\n\nexport default class TpkValidationCurrencyPrefabComponent extends Component<TpkValidationCurrencyPrefabSignature> {\n  get mask() {\n    return {\n      mask: 'num â‚¬',\n      lazy: false,\n      blocks: {\n        num: {\n          expose: true,\n          mask: Number,\n          scale: this.args.scale ?? 2,\n          thousandsSeparator: ' ',\n          padFractionalZeros: true,\n          radix: '.',\n          mapToRadix: ['.', ','],\n        },\n      },\n    };\n  }\n\n  <template>\n    <TpkValidationInputComponent\n      @label={{@label}}\n      @type='text'\n      @onChange={{@onChange}}\n      @placeholder={{@placeholder}}\n      @mask={{this.mask}}\n      @maskOptions={{this.mask}}\n      @disabled={{@disabled}}\n      @unmaskValue={{true}}\n      @mandatory={{@mandatory}}\n      @changeEvent={{@changeEvent}}\n      @changeset={{@changeset}}\n      @validationField={{@validationField}}\n      @requiredFields={{@requiredFields}}\n      as |V|\n    >\n      <V.Label\n        class='tpk-currency-container'\n        data-test-tpk-prefab-currency-container\n        data-has-error='{{V.hasError}}'\n        anchorScrollUp={{@validationField}}\n        ...attributes\n      >\n        <MandatoryLabelComponent\n          class='tpk-label'\n          @label={{@label}}\n          @mandatory={{V.mandatory}}\n        />\n        <V.Input\n          placeholder={{@placeholder}}\n          data-test-tpk-currency-input\n          class='tpk-currency-input'\n        />\n        <TpkValidationErrorsComponent\n          class='tpk-validation-errors'\n          @errors={{V.errors}}\n        />\n      </V.Label>\n    </TpkValidationInputComponent>\n  </template>\n}\n"],"names":["TpkValidationCurrencyPrefabComponent","Component","mask","lazy","blocks","num","expose","Number","scale","args","thousandsSeparator","padFractionalZeros","radix","mapToRadix","_TpkValidationCurrencyPrefabComponent","setComponentTemplate","precompileTemplate","strictMode","scope","TpkValidationInputComponent","MandatoryLabelComponent","TpkValidationErrorsComponent"],"mappings":";;;;;;;;;;AA6Be,MAAMA,6CAA6CC,SAAU,CAAA;EAC1E,IAAIC,IAAOA,GAAA;IACT,OAAO;AACLA,MAAAA,IAAM,EAAA,OAAA;AACNC,MAAAA,IAAM,EAAA,KAAA;AACNC,MAAAA,MAAQ,EAAA;AACNC,QAAAA,GAAK,EAAA;AACHC,UAAAA,MAAQ,EAAA,IAAA;AACRJ,UAAAA,IAAM,EAAAK,MAAA;AACNC,UAAAA,KAAA,EAAO,IAAI,CAACC,IAAI,CAACD,KAAK,IAAI,CAAA;AAC1BE,UAAAA,kBAAoB,EAAA,GAAA;AACpBC,UAAAA,kBAAoB,EAAA,IAAA;AACpBC,UAAAA,KAAO,EAAA,GAAA;AACPC,UAAAA,UAAY,EAAA,CAAC,GAAA,EAAK,GAAA,CAAA;AACpB,SAAA;AACF,OAAA;KACF,CAAA;AACF,GAAA;AA2CF,CAAA;AAAAC,qCAAA,GA5DqBd;AAmBnBe,oBAAA,CAAAC,kBAAA,CAwCA,q5BAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,2BAAA;IAAAC,uBAAA;AAAAC,IAAAA,4BAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAP,qCAAA,CAAA;;;;"}