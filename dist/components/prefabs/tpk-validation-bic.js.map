{"version":3,"file":"tpk-validation-bic.js","sources":["../../../src/components/prefabs/tpk-validation-bic.gts"],"sourcesContent":["import TpkValidationInputComponent, { type TpkValidationInputComponentSignature } from \"../tpk-validation-input.gts\";\nimport { type BaseValidationSignature } from \"../base.ts\";\nimport { maskSpecialCharDefinition } from \"../../utils/mask-utils.ts\";\nimport MandatoryLabelComponent from \"./mandatory-label.gts\";\nimport Component from \"@glimmer/component\";\nimport TpkValidationErrorsComponent from \"./tpk-validation-errors.gts\";\nimport { action } from \"@ember/object\";\n\nexport interface TpkValidationBicPrefabSignature\n  extends BaseValidationSignature {\n  Args: Omit<TpkValidationInputComponentSignature['Args'], 'type' | 'min' | 'max' | 'step' | 'mask' | 'maskOptions' | 'unmaskValue' | 'mask'> & {\n    onChange?: (value: string, e: Event) => void;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLElement;\n}\n\nexport default class TpkValidationBicPrefabComponent extends Component<TpkValidationBicPrefabSignature> {\n  mask = '########[$$$]';\n  maskOptions = {\n    definitions: maskSpecialCharDefinition,\n  };\n\n  @action\n  onChange(value: string | number | Date | null, e: Event){  \n    const valueAsString = (value as string).toUpperCase()\n    if(this.args.onChange){\n      return this.args.onChange(valueAsString, e);\n    }\n    return this.args.changeset.set(this.args.validationField, valueAsString);\n  }\n\n  <template>\n    <TpkValidationInputComponent\n      @label={{@label}}\n      @disabled={{@disabled}}\n      @type=\"text\"\n      @onChange={{this.onChange}}\n      @mandatory={{@mandatory}}\n      @placeholder={{@placeholder}}\n      @validationField={{@validationField}}\n      @changeEvent={{@changeEvent}}\n      @changeset={{@changeset}}\n      @mask={{this.mask}}\n      @maskOptions={{this.maskOptions}}\n      @requiredFields={{@requiredFields}}\n    as |V|>\n        <V.Label \n        class=\"tpk-bic-container\" \n        data-test-tpk-prefab-bic-container\n        data-has-error='{{V.hasError}}' \n        anchorScrollUp={{@validationField}} \n        ...attributes>\n          <MandatoryLabelComponent  \n          class=\"tpk-label\" \n          @label={{@label}} \n          @mandatory={{V.mandatory}}/>\n          <V.Input \n          class=\"tpk-bic-input uppercase\" \n          data-test-tpk-bic-input\n          />\n          <TpkValidationErrorsComponent\n          class=\"tpk-validation-errors\"\n          @errors={{V.errors}}\n          />\n        </V.Label>\n    </TpkValidationInputComponent>\n  </template>\n}\n"],"names":["TpkValidationBicPrefabComponent","Component","constructor","args","_defineProperty","definitions","maskSpecialCharDefinition","onChange","value","e","valueAsString","toUpperCase","changeset","set","validationField","setComponentTemplate","precompileTemplate","strictMode","scope","TpkValidationInputComponent","MandatoryLabelComponent","TpkValidationErrorsComponent","_TpkValidationBicPrefabComponent","_applyDecoratedDescriptor","_class","prototype","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;;;;;AAmBqBA,IAAAA,gFAAN,MAAMA,wCAAwCC,SAAU,CAAA;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,eAC9D,eAAgB,CAAA,CAAA;AAAAA,IAAAA,eAAA,CACT,IAAA,EAAA,aAAA,EAAA;AACZC,MAAAA,WAAa,EAAAC,yBAAAA;KACb,CAAA,CAAA;AAAA,GAAA;AAGFC,EAAAA,QAASA,CAAAC,KAAoC,EAAEC,CAAQ,EAAC;AACtD,IAAA,MAAMC,aAAgB,GAACF,KAAS,CAAQG,WAAW,EAAA,CAAA;AACnD,IAAA,IAAG,IAAI,CAACR,IAAI,CAACI,QAAQ,EAAC;MACpB,OAAO,IAAI,CAACJ,IAAI,CAACI,QAAQ,CAACG,aAAe,EAAAD,CAAA,CAAA,CAAA;AAC3C,KAAA;AACA,IAAA,OAAO,IAAI,CAACN,IAAI,CAACS,SAAS,CAACC,GAAG,CAAC,IAAI,CAACV,IAAI,CAACW,eAAe,EAAEJ,aAAA,CAAA,CAAA;AAC5D,GAAA;AAsCF,CAAA,EAAAK,oBAAA,CApCEC,kBAAA,CAmCA,62BAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,2BAAA;IAAAC,uBAAA;AAAAC,IAAAA,4BAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,gCAAA,CAAAA,EAAAA,gCAAA,CAAAC,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EA5CTC,UAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAJ,MAAA,CAAAC,SAAA,EAAA,UAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,CAAA,EAAAD,MAAA;;;;"}