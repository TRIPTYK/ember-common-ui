{"version":3,"file":"tpk-validation-integer.js","sources":["../../../src/components/prefabs/tpk-validation-integer.gts"],"sourcesContent":["import TpkValidationInputComponent, {\n  type TpkValidationInputComponentSignature,\n} from '../tpk-validation-input.gts';\nimport {\n  type BaseValidationSignature,\n} from '../base.ts';\nimport TpkValidationErrorsComponent from './tpk-validation-errors.gts';\nimport { on } from '@ember/modifier';\nimport { action } from '@ember/object';\nimport MandatoryLabelComponent from './mandatory-label.gts';\nimport Component from '@glimmer/component';\n\nexport interface TpkValidationIntegerComponentSignature\n  extends BaseValidationSignature {\n  Args: Omit<\n    TpkValidationInputComponentSignature['Args'],\n    | 'step'\n    | 'unmaskValue'\n    | 'maskOptions'\n\n  > & {\n    unsigned?: boolean;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLElement;\n}\n\nexport default class TpkValidationIntegerComponent extends Component<TpkValidationIntegerComponentSignature> {\n\nget min() {\n  return this.args.unsigned ? 0 : this.args.min;\n}\n\n@action\npreventNonNumericInput(event: KeyboardEvent) {\n  if(event.key ===\".\" || event.key === \",\"){\n    event.preventDefault();\n  }\n}\n\n  <template>\n    <TpkValidationInputComponent\n      @type='number'\n      @label={{@label}}\n      @min={{this.min}}\n      @step={{1}}\n      @disabled={{@disabled}}\n      @changeEvent={{@changeEvent}}\n      @onChange={{@onChange}}\n      @placeholder={{@placeholder}}\n      @mandatory={{@mandatory}}\n      @validationField={{@validationField}}\n      @changeset={{@changeset}}\n      @requiredFields={{@requiredFields}}\n      as |V|\n    >\n      <V.Label\n      class=\"tpk-integer-container\"\n      data-test-tpk-prefab-integer-container\n      data-has-error='{{V.hasError}}'\n      anchorScrollUp={{@validationField}}\n      ...attributes>\n        <MandatoryLabelComponent\n        class=\"tpk-label\"\n        @label={{@label}}\n        @mandatory={{V.mandatory}} />\n        <V.Input\n        class=\"tpk-integer-input\"\n        data-test-tpk-integer-input\n        {{on 'keydown' this.preventNonNumericInput}}\n        />\n        <TpkValidationErrorsComponent\n          class=\"tpk-validation-errors\"\n          @errors={{V.errors}}\n        />\n      </V.Label>\n    </TpkValidationInputComponent>\n  </template>\n}\n"],"names":["TpkValidationIntegerComponent","Component","min","args","unsigned","preventNonNumericInput","event","key","preventDefault","setComponentTemplate","precompileTemplate","strictMode","scope","TpkValidationInputComponent","MandatoryLabelComponent","on","TpkValidationErrorsComponent","_TpkValidationIntegerComponent","_applyDecoratedDescriptor","_class","prototype","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;;;;;AA6BqBA,IAAAA,4EAAN,MAAMA,sCAAsCC,SAAU,CAAA;EAErE,IAAIC,GAAMA,GAAA;AACR,IAAA,OAAO,IAAI,CAACC,IAAI,CAACC,QAAQ,GAAG,CAAA,GAAI,IAAI,CAACD,IAAI,CAACD,GAAG,CAAA;AAC/C,GAAA;EAGAG,sBAAuBA,CAAAC,KAAoB,EAAE;IAC3C,IAAGA,MAAMC,GAAG,KAAI,OAAOD,KAAM,CAAAC,GAAG,KAAK,GAAI,EAAA;MACvCD,KAAA,CAAME,cAAc,EAAA,CAAA;AACtB,KAAA;AACF,GAAA;AAwCA,CAAA,EAAAC,oBAAA,CAtCEC,kBAAA,CAqCA,83BAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,2BAAA;IAAAC,uBAAA;IAAAC,EAAA;AAAAC,IAAAA,4BAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,8BAAA,CAAAA,EAAAA,8BAAA,CAAAC,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EA5CXC,wBAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAJ,MAAA,CAAAC,SAAA,EAAA,wBAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,CAAA,EAAAD,MAAA;;;;"}