{"version":3,"file":"tpk-validation-select-create.js","sources":["../../../src/components/prefabs/tpk-validation-select-create.gts"],"sourcesContent":["import {\n  type BaseValidationSignature,\n  BaseValidationComponent,\n} from '../base.ts';\nimport TpkSelectCreateComponent, {\n  type TpkSelectCreateSignature,\n} from '@triptyk/ember-input/components/tpk-select-create';\nimport TpkValidationErrorsComponent from './tpk-validation-errors.gts';\nimport type { Select } from '@triptyk/ember-input/components/tpk-select';\nimport { action } from '@ember/object';\n\nexport interface TpkValidationSelectCreatePrefabSignature\n  extends BaseValidationSignature {\n  Args: BaseValidationSignature['Args'] &\n    TpkSelectCreateSignature['Args'] & {\n      onChange?: TpkSelectCreateSignature['Args']['onChange'];\n    };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLDivElement;\n}\n\nexport default class TpkValidationSelectCreatePrefabComponent extends BaseValidationComponent<TpkValidationSelectCreatePrefabSignature> {\n  constructor(\n    owner: unknown,\n    args: TpkValidationSelectCreatePrefabSignature['Args'],\n  ) {\n    super(owner, args);\n  }\n\n  get label() {\n    return this.mandatory ? `${this.args.label} *` : this.args.label;\n  }\n\n  @action onChange(selection: unknown, select: Select, event?: Event) {\n    if (this.args.onChange) {\n      return this.args.onChange(selection, select, event);\n    }\n    return this.args.changeset.set(this.args.validationField, selection);\n  }\n\n  toString = (v: unknown) => {\n    return String(v).toString();\n  };\n\n  <template>\n    <div\n      class='{{if @disabled \"disabled\"}} tpk-select-create-container'\n      data-has-error='{{this.hasError}}'\n      anchorScrollUp={{@validationField}}\n      data-test-tpk-prefab-select-create-container\n      ...attributes\n    >\n      <TpkSelectCreateComponent\n        @label={{this.label}}\n        @multiple={{@multiple}}\n        @disabled={{@disabled}}\n        @placeholder={{@placeholder}}\n        @initiallyOpened={{@initiallyOpened}}\n        @allowClear={{@allowClear}}\n        @selected={{this.value}}\n        @options={{@options}}\n        @onChange={{this.onChange}}\n        @onCreate={{@onCreate}}\n        @labelComponent={{@labelComponent}}\n        @labelClass='tpk-label'\n        @selectedItemComponent={{@selectedItemComponent}}\n        @placeholderComponent={{@placeholderComponent}}\n        @buildSuggestion={{@buildSuggestion}}\n        @showCreateWhen={{@showCreateWhen}}\n        @loadingMessage={{@loadingMessage}}\n        @noMatchesMessage={{@noMatchesMessage}}\n        @searchEnabled={{@searchEnabled}}\n        @searchField={{@searchField}}\n        @searchPlaceholder={{@searchPlaceholder}}\n        @searchMessage={{@searchMessage}}\n        @search={{@search}}\n        anchorScrollUp={{@validationField}}\n        as |S|\n      >\n        <S.Option as |O|>\n          {{this.toString O.option}}\n        </S.Option>\n      </TpkSelectCreateComponent>\n      <TpkValidationErrorsComponent\n        class='tpk-validation-errors'\n        @errors={{this.errors}}\n      />\n    </div>\n  </template>\n}\n"],"names":["TpkValidationSelectCreatePrefabComponent","BaseValidationComponent","constructor","owner","args","_defineProperty","v","String","toString","label","mandatory","onChange","selection","select","event","changeset","set","validationField","setComponentTemplate","precompileTemplate","strictMode","scope","TpkSelectCreateComponent","TpkValidationErrorsComponent","_TpkValidationSelectCreatePrefabComponent","_applyDecoratedDescriptor","_class","prototype","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;AAuBqBA,IAAAA,kGAAN,MAAMA,iDAAiDC,uBAAwB,CAAA;AAC5FC,EAAAA,WAAAA,CACEC,KAAc,EACdC,IAAsD,EACtD;AACA,IAAA,KAAK,CAACD,KAAO,EAAAC,IAAA,CAAA,CAAA;IAAAC,eAAA,CAAA,IAAA,EAAA,UAAA,EAcHC,CAAU,IAAA;AACpB,MAAA,OAAOC,MAAA,CAAOD,GAAGE,QAAQ,EAAA,CAAA;KACzB,CAAA,CAAA;AAfF,GAAA;EAEA,IAAIC,KAAQA,GAAA;AACV,IAAA,OAAO,IAAI,CAACC,SAAS,GAAG,CAAA,EAAG,IAAI,CAACN,IAAI,CAACK,KAAK,IAAI,GAAG,IAAI,CAACL,IAAI,CAACK,KAAK,CAAA;AAClE,GAAA;AAEQE,EAAAA,QAASA,CAAAC,SAAkB,EAAEC,MAAc,EAAEC,KAAa,EAAE;AAClE,IAAA,IAAI,IAAI,CAACV,IAAI,CAACO,QAAQ,EAAE;MACtB,OAAO,IAAI,CAACP,IAAI,CAACO,QAAQ,CAACC,WAAWC,MAAQ,EAAAC,KAAA,CAAA,CAAA;AAC/C,KAAA;AACA,IAAA,OAAO,IAAI,CAACV,IAAI,CAACW,SAAS,CAACC,GAAG,CAAC,IAAI,CAACZ,IAAI,CAACa,eAAe,EAAEL,SAAA,CAAA,CAAA;AAC5D,GAAA;AAmDF,CAAA,EAAAM,oBAAA,CA7CEC,kBAAA,CA4CA,0uCAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,wBAAA;AAAAC,IAAAA,4BAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,yCAAA,CAAAA,EAAAA,yCAAA,CAAAC,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EAvDTC,UAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAJ,MAAA,CAAAC,SAAA,EAAA,UAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,CAAA,EAAAD,MAAA;;;;"}