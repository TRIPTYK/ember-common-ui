{"version":3,"file":"tpk-validation-checkbox.js","sources":["../../src/components/tpk-validation-checkbox.gts"],"sourcesContent":["import { action } from '@ember/object';\nimport {\n  type BaseValidationSignature,\n  BaseValidationComponent,\n} from './base.ts';\nimport { assert } from '@ember/debug';\nimport TpkCheckbox from '@triptyk/ember-input/components/tpk-checkbox';\nimport type { TpkCheckboxSignature } from '@triptyk/ember-input/components/tpk-checkbox';\nimport { hash } from '@ember/helper';\n\nexport interface TpkValidationCheckboxComponentSignature\n  extends BaseValidationSignature {\n  Args: BaseValidationSignature['Args'] & TpkCheckboxSignature['Args'] & {\n    onChange?: (isChecked: boolean, value: string, e: Event) => void;\n  };\n  Blocks: {\n    default: [\n      {\n        Input: TpkCheckboxSignature['Blocks']['default'][0]['Input'];\n        Label: TpkCheckboxSignature['Blocks']['default'][0]['Label'];\n        errors: TpkValidationCheckboxComponent['errors'];\n        hasError: TpkValidationCheckboxComponent['hasError'];\n        firstError: TpkValidationCheckboxComponent['firstError'];\n        mandatory: TpkValidationCheckboxComponent['mandatory'];\n      },\n    ];\n  };\n}\n\nexport default class TpkValidationCheckboxComponent extends BaseValidationComponent<TpkValidationCheckboxComponentSignature> {\n  @action\n  onChange(isChecked: boolean, value: string, e: Event) {\n    if (this.args.onChange) {\n      return this.args.onChange(isChecked, value, e);\n    }\n    return this.args.changeset.set(this.args.validationField, isChecked);\n  }\n\n  get value() {\n    assert(\n      'value must be a boolean or null or undefined',\n      typeof super.value === 'boolean' ||\n        super.value === null ||\n        super.value === undefined,\n    );\n    return super.value ?? false;\n  }\n\n  <template>\n    <TpkCheckbox\n      @checked={{this.value}}\n      @label={{@label}}\n      @changeEvent={{@changeEvent}}\n      @disabled={{@disabled}}\n      @onChange={{this.onChange}}\n      as |I|\n    >\n      {{yield\n        (hash\n          Input=I.Input\n          Label=I.Label\n          errors=this.errors\n          hasError=this.hasError\n          firstError=this.firstError\n          mandatory=this.mandatory\n        )\n      }}\n    </TpkCheckbox>\n  </template>\n}\n"],"names":["TpkValidationCheckboxComponent","BaseValidationComponent","onChange","isChecked","value","e","args","changeset","set","validationField","assert","undefined","setComponentTemplate","precompileTemplate","strictMode","scope","TpkCheckbox","hash","_TpkValidationCheckboxComponent","_applyDecoratedDescriptor","_class","prototype","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;;AA6BqBA,IAAAA,8EAAN,MAAMA,uCAAuCC,uBAAwB,CAAA;AAElFC,EAAAA,QAASA,CAAAC,SAAkB,EAAEC,KAAa,EAAEC,CAAQ,EAAE;AACpD,IAAA,IAAI,IAAI,CAACC,IAAI,CAACJ,QAAQ,EAAE;MACtB,OAAO,IAAI,CAACI,IAAI,CAACJ,QAAQ,CAACC,WAAWC,KAAO,EAAAC,CAAA,CAAA,CAAA;AAC9C,KAAA;AACA,IAAA,OAAO,IAAI,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,IAAI,CAACF,IAAI,CAACG,eAAe,EAAEN,SAAA,CAAA,CAAA;AAC5D,GAAA;EAEA,IAAIC,KAAQA,GAAA;IACVM,MAAA,CACE,8CACA,EAAA,OAAO,KAAK,CAACN,KAAU,KAAA,SAAA,IACrB,KAAK,CAACA,KAAU,KAAA,IAAA,IAChB,KAAK,CAACA,KAAU,KAAAO,SAAA,CAAA,CAAA;AAEpB,IAAA,OAAO,KAAK,CAACP,KAAS,IAAA,KAAA,CAAA;AACxB,GAAA;AAuBF,CAAA,EAAAQ,oBAAA,CArBEC,kBAAA,CAoBA,kUAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,WAAA;AAAAC,IAAAA,IAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,+BAAA,CAAAA,EAAAA,+BAAA,CAAAC,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EAtCTC,UAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAJ,MAAA,CAAAC,SAAA,EAAA,UAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,CAAA,EAAAD,MAAA;;;;"}