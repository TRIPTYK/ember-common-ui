{"version":3,"file":"pagination.js","sources":["../../../src/components/tpk-table-generic/pagination.gts"],"sourcesContent":["import Component from '@glimmer/component';\nimport { action } from '@ember/object';\nimport { on } from '@ember/modifier';\nimport t from 'ember-intl/helpers/t';\n\nexport interface TableGenericPaginationData {\n  isFirstPage: boolean;\n  isLastPage: boolean;\n  totalRows: number;\n  pageStart: number;\n  pageEnd: number;\n  pageSize: number;\n}\n\nexport interface TableGenericTheme {\n  pagination: {\n    controls: string;\n    previous: string;\n    previousPage: string;\n    next: string;\n    info: string;\n    pageSize: string;\n  };\n}\n\nexport interface TableGenericPaginationActions {\n  changePageSize: (value: string) => void;\n  previousPage: () => void;\n  nextPage: () => void;\n  goToPage: (page: number) => void;\n}\n\ninterface PaginationArgs {\n  pageSizes?: number[];\n  disabled: boolean;\n  theme: TableGenericTheme;\n  paginationData: TableGenericPaginationData;\n  paginationActions: TableGenericPaginationActions;\n}\n\nexport interface PaginationComponentSignature {\n  Args: PaginationArgs;\n  Element: HTMLDivElement;\n}\n\nexport default class TableGenericPaginationComponent extends Component<PaginationComponentSignature> {\n  isPageSizeSelected = (pageSize: number) => {\n    return this.args['paginationData'].pageSize === pageSize;\n  };\n\n  get pageSizes(): number[] {\n    return this.args.pageSizes || [50, 60, 70, 80, 90, 100];\n  }\n\n  get hasRows(): boolean {\n    return this.args['paginationData'].totalRows !== 0;\n  }\n\n  get shouldDisablePrevious(): boolean {\n    return this.args['paginationData'].isFirstPage || this.args['disabled'];\n  }\n\n  get shouldDisableNext(): boolean {\n    return this.args['paginationData'].isLastPage || this.args['disabled'];\n  }\n\n  @action\n  changePageSize(ev: Event) {\n    this.args['paginationActions'].changePageSize(\n      (ev.target as HTMLInputElement).value,\n    );\n  }\n\n  <template>\n    <div\n      class='{{@theme.pagination.controls}} tpk-table-pagination'\n      data-test-pagination\n      ...attributes\n    >\n      {{#if this.hasRows}}\n        <div class='yeti-table-pagination-buttons'>\n          <button\n            type='button'\n            class='{{@theme.pagination.previous}}\n              yeti-table-pagination-controls-previous'\n            disabled={{this.shouldDisablePrevious}}\n            title={{t 'global.previous'}}\n            {{on 'click' @paginationActions.previousPage}}\n            data-test-pagination-previous\n          >\n            <img\n              src='/ember-ui/icons/chevron-left.svg'\n              alt={{t 'global.previous'}}\n            />\n            <span class='sr-only'>\n              {{t 'global.previous'}}\n            </span>\n          </button>\n          <button\n            type='button'\n            class='{{@theme.pagination.next}}\n              yeti-table-pagination-controls-next'\n            disabled={{this.shouldDisableNext}}\n            title={{t 'global.next'}}\n            {{on 'click' @paginationActions.nextPage}}\n            data-test-pagination-next\n          >\n            <span class='sr-only'>\n              {{t 'global.next'}}\n            </span>\n            <img\n              src='/ember-ui/icons/chevron-right.svg'\n              alt={{t 'global.next'}}\n            />\n          </button>\n        </div>\n      {{/if}}\n      <div>\n        <div\n          class='{{@theme.pagination.info}}\n            yeti-table-pagination-controls-page-info'\n          data-test-pagination-result\n        >\n          {{@paginationData.pageStart}}\n          -\n          {{@paginationData.pageEnd}}\n          {{t 'global.on'}}\n          {{@paginationData.totalRows}}\n          {{t 'global.results'}}\n        </div>\n        <div\n          class='{{@theme.pagination.pageSize}}\n            yeti-table-pagination-controls-page-size'\n        >\n          {{t 'global.results_by_page'}}:\n          <select\n            disabled={{@disabled}}\n            {{on 'change' this.changePageSize}}\n            data-test-pagination-select\n          >\n            {{#each this.pageSizes as |pageSize|}}\n              <option\n                value={{pageSize}}\n                selected={{this.isPageSizeSelected pageSize}}\n              >\n                {{pageSize}}\n              </option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n    </div>\n  </template>\n}\n"],"names":["TableGenericPaginationComponent","Component","constructor","args","_defineProperty","pageSize","pageSizes","hasRows","totalRows","shouldDisablePrevious","isFirstPage","shouldDisableNext","isLastPage","changePageSize","ev","target","value","setComponentTemplate","precompileTemplate","strictMode","scope","t","on","_TableGenericPaginationComponent","_applyDecoratedDescriptor","_class","prototype","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;AA6CqBA,IAAAA,gFAAN,MAAMA,wCAAwCC,SAAU,CAAA;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;IAAAC,eAAA,CAAA,IAAA,EAAA,oBAAA,EAC/CC,QAAgB,IAAA;MACpC,OAAO,IAAI,CAACF,IAAI,CAAC,gBAAiB,CAAA,CAACE,QAAQ,KAAKA,QAAA,CAAA;KAChD,CAAA,CAAA;AAAA,GAAA;EAEF,IAAIC,SAAAA,GAAsB;AACxB,IAAA,OAAO,IAAI,CAACH,IAAI,CAACG,SAAS,IAAI,CAAC,EAAA,EAAI,EAAA,EAAI,EAAA,EAAI,EAAA,EAAI,EAAA,EAAI,GAAA,CAAI,CAAA;AACzD,GAAA;EAEA,IAAIC,OAAAA,GAAmB;IACrB,OAAO,IAAI,CAACJ,IAAI,CAAC,gBAAiB,CAAA,CAACK,SAAS,KAAK,CAAA,CAAA;AACnD,GAAA;EAEA,IAAIC,qBAAAA,GAAiC;AACnC,IAAA,OAAO,IAAI,CAACN,IAAI,CAAC,gBAAiB,CAAA,CAACO,WAAW,IAAI,IAAI,CAACP,IAAI,CAAC,UAAW,CAAA,CAAA;AACzE,GAAA;EAEA,IAAIQ,iBAAAA,GAA6B;AAC/B,IAAA,OAAO,IAAI,CAACR,IAAI,CAAC,gBAAiB,CAAA,CAACS,UAAU,IAAI,IAAI,CAACT,IAAI,CAAC,UAAW,CAAA,CAAA;AACxE,GAAA;EAGAU,cAAeA,CAAAC,EAAS,EAAE;AACxB,IAAA,IAAI,CAACX,IAAI,CAAC,mBAAA,CAAoB,CAACU,cAAc,CAC1CC,EAAG,CAAAC,MAAM,CAAsBC,KAAK,CAAA,CAAA;AAEzC,GAAA;AAkFF,CAAA,EAAAC,oBAAA,CAhFEC,kBAAA,CA+EA,mjEAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,CAAA;AAAAC,IAAAA,EAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,gCAAA,CAAAA,EAAAA,gCAAA,CAAAC,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EAtFTC,gBAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAJ,MAAA,CAAAC,SAAA,EAAA,gBAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,CAAA,EAAAD,MAAA;;;;"}