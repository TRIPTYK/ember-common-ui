{"version":3,"file":"body.js","sources":["../../../src/components/tpk-table-generic/body.gts"],"sourcesContent":["import Component from '@glimmer/component';\nimport { tracked } from 'tracked-built-ins';\nimport { action } from '@ember/object';\nimport type { WithBoundArgs } from '@glint/template';\nimport TableGenericBodyCellComponent from './body/cell.gts';\nimport TableGenericBodyActionMenuComponent from './body/action-menu.gts';\nimport { fn, hash } from '@ember/helper';\nimport { on } from '@ember/modifier';\nimport t from 'ember-intl/helpers/t';\n\nexport interface TableGenericBodyComponentSignature {\n  Args: {\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    table: any;\n    rowClick: (element?:unknown, e?:Event) => void;\n    registerActionMenu: (element: HTMLTableCellElement, args: []) => unknown;\n  };\n  Element: HTMLDivElement;\n  Blocks: {\n    default: [\n      {\n        Cell: WithBoundArgs<typeof TableGenericBodyCellComponent, 'row'>;\n        ActionMenu: WithBoundArgs<\n          typeof TableGenericBodyActionMenuComponent,\n          'registerActionMenu' | 'item' | 'index' | 'isExpanded'\n        >;\n      },\n      unknown,\n    ];\n  };\n}\n\nexport default class TableGenericBodyComponent extends Component<TableGenericBodyComponentSignature> {\n  @tracked isExpanded = false;\n\n  get bodyClass() {\n    return this.isExpanded ? 'body expanded' : 'body';\n  }\n\n  @action toggle() {\n    this.isExpanded = !this.isExpanded;\n  }\n\n  <template>\n    <@table.tbody class='tpk-table-body' ...attributes as |body data|>\n      {{#each data as |element index|}}\n        <body.row\n          data-test-row={{element.id}}\n          {{on 'click' (fn @rowClick element)}}\n          as |row|\n        >\n          {{yield\n            (hash\n              Cell=(component TableGenericBodyCellComponent element=element row=row)\n              ActionMenu=(component\n                TableGenericBodyActionMenuComponent\n                registerActionMenu=@registerActionMenu\n                item=element\n                isExpanded=this.isExpanded\n                index=index\n              )\n            )\n            element\n          }}\n        </body.row>\n      {{else}}\n        <body.row as |row|>\n          <row.cell colspan={{@table.visibleColumns.length}}>\n            <div class='flex justify-center py-4'>\n              {{t 'global.missing'}}\n            </div>\n          </row.cell>\n        </body.row>\n      {{/each}}\n    </@table.tbody>\n  </template>\n}\n"],"names":["TableGenericBodyComponent","Component","constructor","args","_initializerDefineProperty","_descriptor","bodyClass","isExpanded","toggle","setComponentTemplate","precompileTemplate","strictMode","scope","on","fn","hash","TableGenericBodyCellComponent","TableGenericBodyActionMenuComponent","t","_TableGenericBodyComponent","_applyDecoratedDescriptor","_class","prototype","tracked","configurable","enumerable","writable","initializer","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;;;;;AAiCqBA,IAAAA,oEAAN,MAAMA,kCAAkCC,SAAU,CAAA;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,0BAAA,qBAAAC,WAAA,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA;EAG/D,IAAIC,SAAYA,GAAA;AACd,IAAA,OAAO,IAAI,CAACC,UAAU,GAAG,eAAkB,GAAA,MAAA,CAAA;AAC7C,GAAA;AAEQC,EAAAA,MAASA,GAAA;AACf,IAAA,IAAI,CAACD,UAAU,GAAG,CAAC,IAAI,CAACA,UAAU,CAAA;AACpC,GAAA;AAmCF,CAAA,EAAAE,oBAAA,CAjCEC,kBAAA,CAgCA,iyBAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,EAAA;IAAAC,EAAA;IAAAC,IAAA;IAAAC,6BAAA;IAAAC,mCAAA;AAAAC,IAAAA,CAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,0BAAA,CAAA,EAAAA,0BAAA,CAAAd,EAAAA,WAAA,GAAAe,yBAAA,CAAAC,MAAA,CAAAC,SAAA,iBA1CTC,OAAA,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;AAAAC,EAAAA,WAAA,cAAA;AAAA,IAAA,OAAqB,KAAM,CAAA;AAAA,GAAA;AAAA,CAAAP,CAAAA,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EAM3BM,QAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAT,MAAA,CAAAC,SAAA,EAAA,QAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,GAAAD,MAAA;;;;"}