{"version":3,"file":"tpk-validation-input.js","sources":["../../src/components/tpk-validation-input.gts"],"sourcesContent":["import { action } from '@ember/object';\nimport { tracked } from '@glimmer/tracking';\nimport {\n  type BaseValidationSignature,\n  BaseValidationComponent,\n} from './base.ts';\nimport type { TpkInputSignature } from '@triptyk/ember-input/components/tpk-input';\nimport TpkInput from '@triptyk/ember-input/components/tpk-input';\nimport { hash } from '@ember/helper';\n\nexport interface TpkValidationInputComponentSignature\n  extends BaseValidationSignature {\n  Args: BaseValidationSignature['Args'] &\n    TpkInputSignature['Args'] & {\n      onChange?: (value: string | number | Date | null, e: Event) => void;\n    };\n  Blocks: {\n    default: [\n      {\n        Input?: TpkInputSignature['Blocks']['default'][0]['Input'];\n        Label?: TpkInputSignature['Blocks']['default'][0]['Label'];\n        errors?: TpkValidationInputComponent['errors'];\n        hasError: TpkValidationInputComponent['hasError'];\n        firstError: TpkValidationInputComponent['firstError'];\n        mandatory: TpkValidationInputComponent['mandatory'];\n      },\n    ];\n  };\n}\n\nexport default class TpkValidationInputComponent extends BaseValidationComponent<TpkValidationInputComponentSignature> {\n  @tracked showPassword = false;\n  @action onChange(value: string | number | Date | null, e: Event) {\n    if (this.args.onChange) {\n      return this.args.onChange(value, e);\n    }\n    return this.args.changeset.set(this.args.validationField, value);\n  }\n\n  get value() {\n    return super.value as string;\n  }\n\n  <template>\n    <TpkInput\n      @value={{this.value}}\n      @disabled={{@disabled}}\n      @label={{@label}}\n      @type={{@type}}\n      @step={{@step}}\n      @min={{@min}}\n      @max={{@max}}\n      @onChange={{this.onChange}}\n      @changeEvent={{@changeEvent}}\n      @mask={{@mask}}\n      @maskOptions={{@maskOptions}}\n      @unmaskValue={{@unmaskValue}}\n      @placeholder={{@placeholder}}\n      as |I|\n    >\n      {{yield\n        (hash\n          Input=I.Input\n          Label=I.Label\n          errors=this.errors\n          hasError=this.hasError\n          firstError=this.firstError\n          mandatory=this.mandatory\n        )\n      }}\n    </TpkInput>\n  </template>\n}\n"],"names":["TpkValidationInputComponent","BaseValidationComponent","constructor","args","_initializerDefineProperty","_descriptor","onChange","value","e","changeset","set","validationField","setComponentTemplate","precompileTemplate","strictMode","scope","TpkInput","hash","_TpkValidationInputComponent","_applyDecoratedDescriptor","_class","prototype","tracked","configurable","enumerable","writable","initializer","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;;AA8BqBA,IAAAA,wEAAN,MAAMA,oCAAoCC,uBAAwB,CAAA;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,0BAAA,uBAAAC,WAAA,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA;AAEvEC,EAAAA,QAASA,CAAAC,KAAoC,EAAEC,CAAQ,EAAE;AAC/D,IAAA,IAAI,IAAI,CAACL,IAAI,CAACG,QAAQ,EAAE;MACtB,OAAO,IAAI,CAACH,IAAI,CAACG,QAAQ,CAACC,KAAO,EAAAC,CAAA,CAAA,CAAA;AACnC,KAAA;AACA,IAAA,OAAO,IAAI,CAACL,IAAI,CAACM,SAAS,CAACC,GAAG,CAAC,IAAI,CAACP,IAAI,CAACQ,eAAe,EAAEJ,KAAA,CAAA,CAAA;AAC5D,GAAA;EAEA,IAAIA,KAAQA,GAAA;IACV,OAAO,KAAK,CAACA,KAAA,CAAA;AACf,GAAA;AA+BF,CAAA,EAAAK,oBAAA,CA7BEC,kBAAA,CA4BA,geAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,QAAA;AAAAC,IAAAA,IAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,4BAAA,CAAA,EAAAA,4BAAA,CAAAb,EAAAA,WAAA,GAAAc,yBAAA,CAAAC,MAAA,CAAAC,SAAA,mBAxCTC,OAAA,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;AAAAC,EAAAA,WAAA,cAAA;AAAA,IAAA,OAAuB,KAAM,CAAA;AAAA,GAAA;AAAA,CAAAP,CAAAA,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EAC7BM,UAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAT,MAAA,CAAAC,SAAA,EAAA,UAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,GAAAD,MAAA;;;;"}