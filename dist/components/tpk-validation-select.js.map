{"version":3,"file":"tpk-validation-select.js","sources":["../../src/components/tpk-validation-select.gts"],"sourcesContent":["import { action } from '@ember/object';\nimport {\n  type BaseValidationSignature,\n  BaseValidationComponent,\n} from './base.ts';\nimport type { TpkSelectSignature } from '@triptyk/ember-input/components/tpk-select';\nimport TpkSelectComponent, {\n  type Select,\n} from '@triptyk/ember-input/components/tpk-select';\nimport { hash } from '@ember/helper';\n\nexport interface TpkValidationSelectComponentSignature {\n  Args: BaseValidationSignature['Args'] &\n    TpkSelectSignature['Args'] & {\n      onChange?: (value: unknown, select: Select, event?: Event) => void;\n    };\n  Blocks: {\n    default: [\n      {\n        Option: TpkSelectSignature['Blocks']['default'][0]['Option'];\n        errors: TpkValidationSelect['errors'];\n        hasError: TpkValidationSelect['hasError'];\n        firstError: TpkValidationSelect['firstError'];\n        mandatory: TpkValidationSelect['mandatory'];\n      },\n    ];\n  };\n  Element: HTMLDivElement;\n}\n\nexport default class TpkValidationSelect extends BaseValidationComponent<TpkValidationSelectComponentSignature> {\n  @action onChange(selection: unknown, select: Select, event?: Event) {\n    if (this.args.onChange) {\n      return this.args.onChange(selection, select, event);\n    }\n    return this.args.changeset.set(this.args.validationField, selection);\n  }\n\n  get label() {\n    return this.mandatory ? `${this.args.label} *` : this.args.label;\n  }\n\n  <template>\n    <div\n      class='{{if @disabled \"disabled\"}} tpk-validation-select'\n      data-has-error='{{this.hasError}}'\n      anchorScrollUp={{@validationField}}\n      ...attributes\n    >\n      <TpkSelectComponent\n        @multiple={{@multiple}}\n        @onChange={{this.onChange}}\n        @label={{this.label}}\n        @options={{@options}}\n        @placeholder={{@placeholder}}\n        @selected={{this.value}}\n        @allowClear={{@allowClear}}\n        @renderInPlace={{@renderInPlace}}\n        @labelComponent={{@labelComponent}}\n        @selectedItemComponent={{@selectedItemComponent}}\n        @placeholderComponent={{@placeholderComponent}}\n        @searchEnabled={{@searchEnabled}}\n        @searchField={{@searchField}}\n        @searchPlaceholder={{@searchPlaceholder}}\n        @searchMessage={{@searchMessage}}\n        @search={{@search}}\n        @onKeyDown={{@onKeyDown}}\n        @disabled={{@disabled}}\n        @initiallyOpened={{@initiallyOpened}}\n        @loadingMessage={{@loadingMessage}}\n        @noMatchesMessage={{@noMatchesMessage}}\n        as |I|\n      >\n        {{yield\n          (hash\n            Option=I.Option\n            errors=this.errors\n            hasError=this.hasError\n            firstError=this.firstError\n            mandatory=this.mandatory\n          )\n        }}\n      </TpkSelectComponent>\n    </div>\n  </template>\n}\n"],"names":["TpkValidationSelect","BaseValidationComponent","onChange","selection","select","event","args","changeset","set","validationField","label","mandatory","setComponentTemplate","precompileTemplate","strictMode","scope","TpkSelectComponent","hash","_TpkValidationSelect","_applyDecoratedDescriptor","_class","prototype","action","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;AA8BqBA,IAAAA,wDAAN,MAAMA,4BAA4BC,uBAAwB,CAAA;AAC/DC,EAAAA,QAASA,CAAAC,SAAkB,EAAEC,MAAc,EAAEC,KAAa,EAAE;AAClE,IAAA,IAAI,IAAI,CAACC,IAAI,CAACJ,QAAQ,EAAE;MACtB,OAAO,IAAI,CAACI,IAAI,CAACJ,QAAQ,CAACC,WAAWC,MAAQ,EAAAC,KAAA,CAAA,CAAA;AAC/C,KAAA;AACA,IAAA,OAAO,IAAI,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,IAAI,CAACF,IAAI,CAACG,eAAe,EAAEN,SAAA,CAAA,CAAA;AAC5D,GAAA;EAEA,IAAIO,KAAQA,GAAA;AACV,IAAA,OAAO,IAAI,CAACC,SAAS,GAAG,CAAA,EAAG,IAAI,CAACL,IAAI,CAACI,KAAK,IAAI,GAAG,IAAI,CAACJ,IAAI,CAACI,KAAK,CAAA;AAClE,GAAA;AA6CF,CAAA,EAAAE,oBAAA,CA3CEC,kBAAA,CA0CA,yhCAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,kBAAA;AAAAC,IAAAA,IAAAA;AAAA,GAAA,CAAA;AAAU,CAAA,CAAA,EAAAC,oBAAA,CAAAA,EAAAA,oBAAA,CAAAC,EAAAA,yBAAA,CAAAC,MAAA,CAAAC,SAAA,EArDTC,UAAAA,EAAAA,CAAAA,MAAA,GAAAC,MAAA,CAAAC,wBAAA,CAAAJ,MAAA,CAAAC,SAAA,EAAA,UAAA,CAAA,EAAAD,MAAA,CAAAC,SAAA,CAAA,EAAAD,MAAA;;;;"}